<div class="mb-6">
  <a
    [routerLink]="'create'"
    class="bg-green-500 px-6 py-3 rounded-lg text-white shadow-md hover:bg-green-600 transition duration-300 transform hover:scale-105"
    aria-label="Şirket Ekle"
  >
    <i class="fa fa-plus mr-2"></i> Fırsat Ekle
  </a>
</div>

<div class="bg-white mt-8 p-6 rounded-lg shadow-lg border border-gray-300">
  <div class="flex items-center space-x-4">
    <label for="searchTerm" class="text-lg font-medium text-gray-800"
      >Fırsat Ara</label
    >

    <input
      id="searchTerm"
      class="flex-1 py-2 px-4 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200"
      type="text"
      [(ngModel)]="searchTerm"
      placeholder="İsim"
      aria-label="Çalışan Ara"
    />

    <button
      (click)="search()"
      type="button"
      class="bg-blue-500 px-5 py-2 rounded-lg text-white shadow-md hover:bg-blue-600 transition duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500"
      aria-label="Çalışan ara"
    >
      <i class="fa fa-search"></i> Ara
    </button>
  </div>


  <!-- <div *ngIf="errorMessage" class="text-red-500 mt-2">
    <p>{{ errorMessage }}</p>
  </div> -->
</div>

<!-- Şirket Listesi -->
<table class="min-w-full mt-6 text-sm text-gray-800">
  <thead class="bg-gray-100 border-b-2 border-gray-300 font-semibold">
  <tr>
    <th class="px-6 py-4 text-left">Adı</th>
    <th class="px-6 py-4 text-left">
      Fiyat
      <!-- Sıralama Butonları -->
      <button
        class="ml-2 text-blue-500 hover:text-green-500"
        (click)="orderByValueAsc()">▲</button>
      <button
        class="ml-1 text-blue-500 hover:text-green-500"
        (click)="orderByValueDesc()">▼</button>
    </th>
    <th class="px-6 py-4 text-left">Durum</th>
    <th class="px-6 py-4 text-left">
      Son Tarih
      <!-- Sıralama Butonları -->
      <button
        class="ml-2 text-blue-500 hover:text-green-500"
        (click)="orderByDateAsc()">▲</button>
      <button
        class="ml-1 text-blue-500 hover:text-green-500"
        (click)="orderByDateDesc()">▼</button>
    </th>
    <th class="px-6 py-4 text-left">Talep Eden</th>
    <th class="px-6 py-4 text-left">İşlemler</th>
  </tr>
</thead>

  <tbody>
    <tr
      *ngFor="let opportunity of opportunities"
      class="border-b border-gray-200 hover:bg-gray-50 transition duration-150"
    >
      <td class="px-6 py-4">{{ opportunity.name }}</td>
      <td class="px-6 py-4">{{ opportunity.value  | currency:'TRY ':'symbol':'1.0-0' }}</td>
      <td class="px-6 py-4">{{ opportunity.status }}</td>
      <td class="px-6 py-4">
        {{ opportunity.expectedCloseDate | date : "dd/MM/yyyy" }}
      </td>
      <td class="px-6 py-4">{{ opportunity.customer.name }}</td>

      <td class="px-6 py-4 flex">
        <a
          class="text-blue-500 border-2 border-blue-500 px-4 py-2 rounded hover:text-white hover:bg-blue-500 transition duration-200 mr-3"
          [routerLink]="['/home/opportunities/update', opportunity.id]"
        >
          <i class="fa fa-edit"></i> Güncelle
        </a>
        <a
          [routerLink]="['/home/opportunities/delete', opportunity.id]"
          routerLinkActive="active"
          class="text-red-500 border-red-500 border-2 px-4 py-2 rounded hover:text-white hover:bg-red-700 transition duration-200"
        >
          <i class="fa fa-trash"></i> Sil
        </a>
      </td>
    </tr>
  </tbody>
</table>
